<!DOCTYPE html>
<html>
<head>
    <title>Rock Paper Scissors | Welcome</title>
    <meta charset="utf-8">
    </head>
    
    <body>
    <script>
       
    
    let gameNumber = 0;
        
        
    function computerRandom() {
        let computer = Math.random();
        if (computer <= .33) {
            return 'paper';
        } else if (computer >= .66) {
            return 'rock';
        } else {
            return 'scissors';
        };
    };
    
    function playerChoice () {
        let userChoice = prompt('Pick rock, paper, or scissors.');
        let userChoiceLower = userChoice.toLowerCase();
        return userChoiceLower;
    }
    

    function playGame (){
        let computerChoice = computerRandom();
        let userChoiceLowerCase = playerChoice();
        
        if(computerChoice == userChoiceLowerCase) {
            return 'It is a draw.';}; 
        
        if(computerChoice == 'paper') {
            if(userChoiceLowerCase == 'rock') {
                return 'You lose! Paper beats rock.';
            } else if (userChoiceLowerCase == 'scissors') {
                return 'You win! Scissor beats paper.';
            }
        }; 
        
        if (computerChoice == 'rock') {
            if (userChoiceLowerCase == 'paper') {
                return 'You win! Paper beats rock.';
            }
            else if (userChoiceLowerCase == 'scissors') {
                return 'You lose! Rock beats scissor.';
            }
        }; 
        
        if (computerChoice == 'scissors') {
            if (userChoiceLowerCase == 'rock') { 
                return 'You win! Rock beats scissor.';
            }
            else if (userChoiceLowerCase == 'paper') {
                return 'You lose! Scissor beats paper.';
            }
        };
    };
        
    let playerScore = 0;
    let computerScore = 0;
    
    
    function game(){
        
        while (gameNumber <= 4) {
            let results = playGame();
            if (results == 'You lose! Paper beats rock.' || results == 'You lose! Rock beats scissor.' || results == 'You lose! Scissor beats paper.') {computerScore++} 
            else if (results === 'It is a draw.') {''} 
            else {playerScore++};
            
            console.log(results,'Computer Score: ' + computerScore,'Player Score: ' + playerScore,'Game Number: ' + gameNumber);
            
            gameNumber++   
        };
    
        if (computerScore > playerScore) {
            return 'The computer wins ' + computerScore + ' to ' + playerScore + '.';
        } else if (computerScore < playerScore) {
            return 'You win ' + playerScore + ' to ' + computerScore + '.';
        } else {return 'It is a tie.'};
    };
    
        console.log(game());    
        
    </script>
    </body>
</html>